{% extends 'agent/base_legacy.html' %}
{% block title %}Time Segments{% endblock %}
{% block content %}
<h2>Time Segments (CRUD)</h2>
<p><a class='op' href='{% url "crud-segment-create" %}'>Add Segment</a></p>
<table class='status-box' style='width:100%;border-collapse:collapse'>
<tr><th>Name</th><th>Start</th><th>End</th><th>Days</th><th>Actions</th></tr>
{% for s in page.object_list %}
<tr>
  <td>{{ s.name }}</td><td>{{ s.start_time }}</td><td>{{ s.end_time }}</td><td>{{ s.days_display }}</td>
  <td><a class='op' href='{% url "crud-segment-edit" s.id %}'>Edit</a>
    <form method='post' action='{% url "crud-segment-delete" s.id %}' style='display:inline' onsubmit='return confirm("Delete segment?")'>
      {% csrf_token %}<button class='op' style='background:#632626'>Del</button>
    </form>
  </td>
</tr>
{% empty %}<tr><td colspan='4'>No segments</td></tr>{% endfor %}
</table>
<div>Page {{ page.number }} of {{ page.paginator.num_pages }}</div>
{% if page.has_previous %}<a href='?page={{ page.previous_page_number }}'>Prev</a>{% endif %}
{% if page.has_next %}<a href='?page={{ page.next_page_number }}'>Next</a>{% endif %}
{% endblock %}